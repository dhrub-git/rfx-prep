%%{init: {'theme':'base', 'themeVariables': {'primaryColor': '#003f5c', 'primaryTextColor': '#FFFFFF', 'primaryBorderColor': '#2f4b7c', 'lineColor': '#665191', 'sectionBkgColor': '#a05195', 'altSectionBkgColor': '#d45087', 'gridColor': '#E6E6E6', 'secondaryColor': '#f95d6a', 'tertiaryColor': '#ff7c43'}}}%%

flowchart TD
    %% Central Orchestration
    subgraph ORCHESTRATION ["ğŸ¼ Agent Orchestration & Communication Hub"]
        direction TB
        
        AGENT_REGISTRY[ğŸª Agent Registry & Discovery<br/>Service Registration<br/>Capability Declaration<br/>Health Monitoring<br/>Load Balancing]
        
        MESSAGE_BUS[ğŸ“¡ Event-Driven Message Bus<br/>Kafka/RabbitMQ<br/>Real-time Communication<br/>Event Streaming<br/>Async Processing]
        
        WORKFLOW_ENGINE[âš™ï¸ Workflow Orchestration<br/>Process Definition<br/>Task Scheduling<br/>Dependency Management<br/>Exception Handling]
        
        KNOWLEDGE_GRAPH[ğŸ§  Shared Knowledge Base<br/>Context Management<br/>State Synchronization<br/>Learning Repository<br/>Version Control]
        
        AGENT_REGISTRY --> MESSAGE_BUS
        WORKFLOW_ENGINE --> MESSAGE_BUS
        MESSAGE_BUS --> KNOWLEDGE_GRAPH
    end
    
    %% Information Extraction Agents
    subgraph EXTRACTION ["ğŸ“„ Information Extraction Agents"]
        direction TB
        
        subgraph RFP_PROCESSING ["RFP Document Processing"]
            RFP_ANALYZER[ğŸ“‹ RFP Document Analyzer<br/>ğŸ“ Capabilities:<br/>â€¢ Multi-format Processing (PDF/Word/Excel)<br/>â€¢ OCR & Text Extraction<br/>â€¢ Structure Analysis & Section ID<br/>â€¢ NER & Requirement Classification<br/>â€¢ Compliance Matrix Generation<br/><br/>ğŸ”— Integrations:<br/>â€¢ Apache Tika, PyPDF2<br/>â€¢ Tesseract OCR<br/>â€¢ BERT/RoBERTa Models<br/>â€¢ PostgreSQL Storage]
            
            REQUIREMENT_EXTRACTOR[ğŸ¯ Requirement Extractor<br/>ğŸ“ Capabilities:<br/>â€¢ Mandatory vs Optional Classification<br/>â€¢ Evaluation Criteria Mapping<br/>â€¢ Scoring Weight Analysis<br/>â€¢ Timeline & Milestone Extraction<br/>â€¢ Cross-reference Validation<br/><br/>ğŸ”— Dependencies:<br/>â€¢ RFP Analyzer Output<br/>â€¢ NLP Processing Pipeline<br/>â€¢ Compliance Database<br/>â€¢ Content Generation Agents]
        end
        
        subgraph INTELLIGENCE_GATHERING ["Intelligence Gathering"]
            DATA_MINER[â›ï¸ Data Mining Agent<br/>ğŸ“ Capabilities:<br/>â€¢ Web Scraping (SAM.gov, FBO.gov)<br/>â€¢ API Integration (Reuters, Bloomberg)<br/>â€¢ CRM/ERP Data Extraction<br/>â€¢ Real-time Data Collection<br/>â€¢ Cross-source Data Correlation<br/><br/>ğŸ”— Integrations:<br/>â€¢ Scrapy Framework<br/>â€¢ REST/GraphQL APIs<br/>â€¢ Elasticsearch Storage<br/>â€¢ Apache Kafka Streaming]
            
            MARKET_INTELLIGENCE[ğŸ“Š Market Intelligence<br/>ğŸ“ Capabilities:<br/>â€¢ Competitive Landscape Analysis<br/>â€¢ Industry Trend Assessment<br/>â€¢ Regulatory Environment Review<br/>â€¢ Customer Background Research<br/>â€¢ Risk Factor Identification<br/><br/>ğŸ”— Dependencies:<br/>â€¢ Data Mining Agent<br/>â€¢ External Data Sources<br/>â€¢ Analytics Platform<br/>â€¢ Research Agents]
        end
        
        RFP_ANALYZER --> REQUIREMENT_EXTRACTOR
        DATA_MINER --> MARKET_INTELLIGENCE
    end
    
    %% Content Generation Agents
    subgraph GENERATION ["âœï¸ Content Generation Agents"]
        direction TB
        
        subgraph WRITING_AGENTS ["Intelligent Writing Agents"]
            PROPOSAL_WRITER[ğŸ“ Proposal Writing Agent<br/>ğŸ“ Capabilities:<br/>â€¢ AI-Powered Content Generation<br/>â€¢ Win Theme Integration<br/>â€¢ Technical Content Development<br/>â€¢ Compliance Validation<br/>â€¢ Multi-audience Tone Adaptation<br/><br/>ğŸ”— Integrations:<br/>â€¢ GPT-4/Claude LLMs<br/>â€¢ Langchain Framework<br/>â€¢ Content Management API<br/>â€¢ Style Guide Database]
            
            TECHNICAL_WRITER[ğŸ”§ Technical Writing Specialist<br/>ğŸ“ Capabilities:<br/>â€¢ Solution Architecture Description<br/>â€¢ Implementation Methodology<br/>â€¢ Technical Specification Response<br/>â€¢ Integration Documentation<br/>â€¢ Performance Analysis<br/><br/>ğŸ”— Dependencies:<br/>â€¢ SME Knowledge Base<br/>â€¢ Technical Requirements<br/>â€¢ Solution Architecture<br/>â€¢ Validation Agents]
        end
        
        subgraph VISUAL_CONTENT ["Visual Content Creation"]
            GRAPHICS_AGENT[ğŸ¨ Graphics & Visualization<br/>ğŸ“ Capabilities:<br/>â€¢ Technical Diagram Generation<br/>â€¢ System Architecture Visualization<br/>â€¢ Data Visualization & Charts<br/>â€¢ Process Flow Diagrams<br/>â€¢ Brand Compliance Validation<br/><br/>ğŸ”— Integrations:<br/>â€¢ D3.js, Plotly, Matplotlib<br/>â€¢ Graphviz, SVG Generation<br/>â€¢ Template Management<br/>â€¢ Asset Repository]
            
            PRESENTATION_BUILDER[ğŸ“Š Presentation Builder<br/>ğŸ“ Capabilities:<br/>â€¢ Slide Template Generation<br/>â€¢ Content-to-Visual Mapping<br/>â€¢ Interactive Dashboard Creation<br/>â€¢ Executive Summary Visuals<br/>â€¢ Multi-format Output<br/><br/>ğŸ”— Dependencies:<br/>â€¢ Graphics Agent<br/>â€¢ Content Writers<br/>â€¢ Brand Guidelines<br/>â€¢ Output Services]
        end
        
        PROPOSAL_WRITER --> TECHNICAL_WRITER
        GRAPHICS_AGENT --> PRESENTATION_BUILDER
    end
    
    %% Research and Analysis Agents
    subgraph RESEARCH ["ğŸ” Research & Analysis Agents"]
        direction TB
        
        subgraph COMPETITIVE_ANALYSIS ["Competitive Intelligence"]
            COMPETITOR_ANALYZER[ğŸ† Competitive Intelligence<br/>ğŸ“ Capabilities:<br/>â€¢ Competitor Identification & Profiling<br/>â€¢ Market Position Analysis<br/>â€¢ Strength/Weakness Assessment<br/>â€¢ Pricing Strategy Intelligence<br/>â€¢ Win/Loss Pattern Recognition<br/><br/>ğŸ”— Integrations:<br/>â€¢ Web Scraping Framework<br/>â€¢ Social Media APIs<br/>â€¢ Patent Databases<br/>â€¢ News & Media Monitoring]
            
            POSITIONING_STRATEGIST[ğŸ¯ Positioning Strategist<br/>ğŸ“ Capabilities:<br/>â€¢ Competitive Differentiation<br/>â€¢ Value Proposition Optimization<br/>â€¢ Market Gap Identification<br/>â€¢ Strategic Recommendation<br/>â€¢ Threat Assessment<br/><br/>ğŸ”— Dependencies:<br/>â€¢ Competitor Analyzer<br/>â€¢ Customer Intelligence<br/>â€¢ Market Data Sources<br/>â€¢ Strategy Database]
        end
        
        subgraph CUSTOMER_ANALYSIS ["Customer Intelligence"]
            CUSTOMER_ANALYZER[ğŸ‘¥ Customer Intelligence<br/>ğŸ“ Capabilities:<br/>â€¢ Organizational Analysis<br/>â€¢ Decision-maker Mapping<br/>â€¢ Stakeholder Influence Assessment<br/>â€¢ Communication Preference Modeling<br/>â€¢ Relationship History Analysis<br/><br/>ğŸ”— Integrations:<br/>â€¢ CRM System APIs<br/>â€¢ Communication Platforms<br/>â€¢ Social Network Analysis<br/>â€¢ Behavioral Analytics]
            
            RELATIONSHIP_MAPPER[ğŸ”— Relationship Mapper<br/>ğŸ“ Capabilities:<br/>â€¢ Network Analysis<br/>â€¢ Influence Path Discovery<br/>â€¢ Coalition Building Strategy<br/>â€¢ Reference Potential Assessment<br/>â€¢ Engagement Planning<br/><br/>ğŸ”— Dependencies:<br/>â€¢ Customer Analyzer<br/>â€¢ Historical Project Data<br/>â€¢ Communication Logs<br/>â€¢ Graph Database]
        end
        
        COMPETITOR_ANALYZER --> POSITIONING_STRATEGIST
        CUSTOMER_ANALYZER --> RELATIONSHIP_MAPPER
    end
    
    %% Workflow Orchestration Agents
    subgraph WORKFLOW ["ğŸ¯ Workflow Orchestration Agents"]
        direction TB
        
        subgraph PROJECT_MANAGEMENT ["Project Management"]
            PROJECT_ORCHESTRATOR[ğŸ¼ Project Orchestrator<br/>ğŸ“ Capabilities:<br/>â€¢ Intelligent Task Assignment<br/>â€¢ Resource Optimization<br/>â€¢ Timeline Management<br/>â€¢ Risk-based Scheduling<br/>â€¢ Performance Analytics<br/><br/>ğŸ”— Integrations:<br/>â€¢ Apache Airflow<br/>â€¢ Kubernetes Jobs<br/>â€¢ Resource Management APIs<br/>â€¢ Analytics Platform]
            
            RESOURCE_SCHEDULER[ğŸ“… Resource Scheduler<br/>ğŸ“ Capabilities:<br/>â€¢ Skill-based Matching<br/>â€¢ Capacity Planning<br/>â€¢ Multi-criteria Optimization<br/>â€¢ Dynamic Reallocation<br/>â€¢ Constraint Handling<br/><br/>ğŸ”— Dependencies:<br/>â€¢ HR Systems<br/>â€¢ Calendar Integration<br/>â€¢ Project Orchestrator<br/>â€¢ Optimization Engine]
        end
        
        subgraph COORDINATION ["Coordination Services"]
            TASK_COORDINATOR[âš™ï¸ Task Coordinator<br/>ğŸ“ Capabilities:<br/>â€¢ Cross-agent Communication<br/>â€¢ Task Handoff Management<br/>â€¢ Dependency Resolution<br/>â€¢ Progress Synchronization<br/>â€¢ Exception Handling<br/><br/>ğŸ”— Integrations:<br/>â€¢ Message Bus<br/>â€¢ Workflow Engine<br/>â€¢ State Management<br/>â€¢ Notification Service]
            
            COLLABORATION_HUB[ğŸ¤ Collaboration Hub<br/>ğŸ“ Capabilities:<br/>â€¢ Team Coordination<br/>â€¢ Information Sharing<br/>â€¢ Conflict Resolution<br/>â€¢ Consensus Building<br/>â€¢ Knowledge Transfer<br/><br/>ğŸ”— Dependencies:<br/>â€¢ Communication Platforms<br/>â€¢ Knowledge Management<br/>â€¢ User Interfaces<br/>â€¢ Integration Services]
        end
        
        PROJECT_ORCHESTRATOR --> RESOURCE_SCHEDULER
        TASK_COORDINATOR --> COLLABORATION_HUB
    end
    
    %% Quality Assurance Agents
    subgraph QA ["âœ… Quality Assurance Agents"]
        direction TB
        
        subgraph CONTENT_QA ["Content Quality Assurance"]
            CONTENT_VALIDATOR[ğŸ“ Content Quality Validator<br/>ğŸ“ Capabilities:<br/>â€¢ Writing Quality Assessment<br/>â€¢ Technical Accuracy Validation<br/>â€¢ Style Consistency Checking<br/>â€¢ Readability Optimization<br/>â€¢ Message Alignment Analysis<br/><br/>ğŸ”— Integrations:<br/>â€¢ NLP Quality Models<br/>â€¢ Grammar Checking APIs<br/>â€¢ Style Guide Database<br/>â€¢ Content Repository]
            
            COMPLIANCE_CHECKER[âœ… Compliance Checker<br/>ğŸ“ Capabilities:<br/>â€¢ RFP Requirement Coverage<br/>â€¢ Legal/Regulatory Compliance<br/>â€¢ Corporate Policy Adherence<br/>â€¢ Format Validation<br/>â€¢ Risk Assessment<br/><br/>ğŸ”— Dependencies:<br/>â€¢ Requirement Database<br/>â€¢ Compliance Rules Engine<br/>â€¢ Legal Document Repository<br/>â€¢ Risk Management System]
        end
        
        subgraph REVIEW_COORDINATION ["Review Management"]
            REVIEW_ORCHESTRATOR[ğŸ‘¥ Review Orchestrator<br/>ğŸ“ Capabilities:<br/>â€¢ Multi-level Review Coordination<br/>â€¢ Stakeholder-specific Feedback<br/>â€¢ Review Cycle Management<br/>â€¢ Feedback Consolidation<br/>â€¢ Resolution Tracking<br/><br/>ğŸ”— Integrations:<br/>â€¢ Review Portal APIs<br/>â€¢ User Management<br/>â€¢ Document Management<br/>â€¢ Workflow Engine]
            
            FEEDBACK_SYNTHESIZER[ğŸ”„ Feedback Synthesizer<br/>ğŸ“ Capabilities:<br/>â€¢ Comment Categorization<br/>â€¢ Priority Analysis<br/>â€¢ Conflict Resolution<br/>â€¢ Improvement Recommendations<br/>â€¢ Impact Assessment<br/><br/>ğŸ”— Dependencies:<br/>â€¢ Review Data<br/>â€¢ ML Classification Models<br/>â€¢ Content Management<br/>â€¢ Analytics Platform]
        end
        
        CONTENT_VALIDATOR --> COMPLIANCE_CHECKER
        REVIEW_ORCHESTRATOR --> FEEDBACK_SYNTHESIZER
    end
    
    %% Communication Protocols & Data Flows
    subgraph COMMUNICATION ["ğŸ“¡ Communication Protocols & Data Flows"]
        direction TB
        
        subgraph PROTOCOLS ["Communication Patterns"]
            SYNC_COMM[ğŸ”„ Synchronous Communication<br/>â€¢ REST API Calls<br/>â€¢ GraphQL Queries<br/>â€¢ gRPC Services<br/>â€¢ Request-Response Pattern<br/>â€¢ Real-time Validation]
            
            ASYNC_COMM[ğŸ“¤ Asynchronous Communication<br/>â€¢ Event-driven Messages<br/>â€¢ Pub/Sub Patterns<br/>â€¢ Message Queues<br/>â€¢ Event Sourcing<br/>â€¢ Saga Patterns]
            
            STREAMING[ğŸŒŠ Data Streaming<br/>â€¢ Real-time Data Pipelines<br/>â€¢ Change Data Capture<br/>â€¢ Stream Processing<br/>â€¢ Complex Event Processing<br/>â€¢ Time-windowed Analytics]
        end
        
        subgraph DATA_FLOWS ["Data Exchange Patterns"]
            SHARED_STATE[ğŸ“Š Shared State Management<br/>â€¢ Context Synchronization<br/>â€¢ Version Control<br/>â€¢ Conflict Resolution<br/>â€¢ State Replication<br/>â€¢ Consistency Guarantees]
            
            DATA_PIPELINE[ğŸ”„ Data Transformation Pipeline<br/>â€¢ ETL Processes<br/>â€¢ Data Validation<br/>â€¢ Schema Evolution<br/>â€¢ Format Conversion<br/>â€¢ Quality Assurance]
            
            FEEDBACK_LOOPS[ğŸ” Feedback & Learning Loops<br/>â€¢ Performance Monitoring<br/>â€¢ A/B Testing Results<br/>â€¢ User Behavior Analytics<br/>â€¢ Model Performance Metrics<br/>â€¢ Continuous Improvement]
        end
        
        SYNC_COMM --> SHARED_STATE
        ASYNC_COMM --> DATA_PIPELINE
        STREAMING --> FEEDBACK_LOOPS
    end
    
    %% Integration and Coordination Flows
    ORCHESTRATION <--> EXTRACTION
    ORCHESTRATION <--> GENERATION
    ORCHESTRATION <--> RESEARCH
    ORCHESTRATION <--> WORKFLOW
    ORCHESTRATION <--> QA
    
    %% Inter-Agent Dependencies
    EXTRACTION -.->|Requirements & Data| GENERATION
    EXTRACTION -.->|Intelligence Data| RESEARCH
    RESEARCH -.->|Analysis Results| GENERATION
    RESEARCH -.->|Strategic Input| WORKFLOW
    GENERATION -.->|Content Output| QA
    WORKFLOW -.->|Task Assignments| GENERATION
    WORKFLOW -.->|Coordination| QA
    QA -.->|Feedback| GENERATION
    QA -.->|Quality Metrics| WORKFLOW
    
    %% Communication Protocol Connections
    COMMUNICATION -.->|Protocols| ORCHESTRATION
    COMMUNICATION -.->|Data Exchange| EXTRACTION
    COMMUNICATION -.->|Coordination| WORKFLOW
    
    %% Specific Agent Interactions
    RFP_ANALYZER -.->|Extracted Requirements| REQUIREMENT_EXTRACTOR
    DATA_MINER -.->|Market Data| COMPETITOR_ANALYZER
    COMPETITOR_ANALYZER -.->|Competitive Intel| POSITIONING_STRATEGIST
    CUSTOMER_ANALYZER -.->|Customer Data| RELATIONSHIP_MAPPER
    POSITIONING_STRATEGIST -.->|Strategy| PROPOSAL_WRITER
    RELATIONSHIP_MAPPER -.->|Stakeholder Info| PROPOSAL_WRITER
    PROPOSAL_WRITER -.->|Content| TECHNICAL_WRITER
    TECHNICAL_WRITER -.->|Technical Content| GRAPHICS_AGENT
    GRAPHICS_AGENT -.->|Visual Assets| PRESENTATION_BUILDER
    PROJECT_ORCHESTRATOR -.->|Task Assignment| RESOURCE_SCHEDULER
    TASK_COORDINATOR -.->|Coordination| COLLABORATION_HUB
    CONTENT_VALIDATOR -.->|Quality Check| COMPLIANCE_CHECKER
    REVIEW_ORCHESTRATOR -.->|Review Data| FEEDBACK_SYNTHESIZER
    
    %% Performance Monitoring & Analytics
    subgraph MONITORING ["ğŸ“Š Performance Monitoring & Analytics"]
        AGENT_METRICS[ğŸ“ˆ Agent Performance Metrics<br/>â€¢ Response Times<br/>â€¢ Success Rates<br/>â€¢ Quality Scores<br/>â€¢ Resource Utilization<br/>â€¢ Collaboration Effectiveness]
        
        SYSTEM_HEALTH[ğŸ¥ System Health Monitoring<br/>â€¢ Agent Availability<br/>â€¢ Communication Latency<br/>â€¢ Error Rates<br/>â€¢ Bottleneck Detection<br/>â€¢ Capacity Planning]
        
        LEARNING_ANALYTICS[ğŸ§  Learning & Optimization<br/>â€¢ Pattern Recognition<br/>â€¢ Performance Trends<br/>â€¢ Optimization Opportunities<br/>â€¢ Model Improvement<br/>â€¢ Best Practice Identification]
    end
    
    ORCHESTRATION -.->|Metrics| MONITORING
    WORKFLOW -.->|Performance Data| MONITORING
    QA -.->|Quality Metrics| MONITORING
    
    %% Styling
    classDef orchestrationStyle fill:#003f5c,stroke:#FFFFFF,stroke-width:3px,color:#FFFFFF
    classDef extractionStyle fill:#2f4b7c,stroke:#FFFFFF,stroke-width:2px,color:#FFFFFF
    classDef generationStyle fill:#665191,stroke:#FFFFFF,stroke-width:2px,color:#FFFFFF
    classDef researchStyle fill:#a05195,stroke:#FFFFFF,stroke-width:2px,color:#FFFFFF
    classDef workflowStyle fill:#d45087,stroke:#FFFFFF,stroke-width:2px,color:#FFFFFF
    classDef qaStyle fill:#f95d6a,stroke:#FFFFFF,stroke-width:2px,color:#FFFFFF
    classDef communicationStyle fill:#ff7c43,stroke:#003f5c,stroke-width:2px,color:#000000
    classDef monitoringStyle fill:#ffa600,stroke:#003f5c,stroke-width:2px,color:#000000
    
    class ORCHESTRATION orchestrationStyle
    class EXTRACTION,RFP_PROCESSING,INTELLIGENCE_GATHERING extractionStyle
    class GENERATION,WRITING_AGENTS,VISUAL_CONTENT generationStyle
    class RESEARCH,COMPETITIVE_ANALYSIS,CUSTOMER_ANALYSIS researchStyle
    class WORKFLOW,PROJECT_MANAGEMENT,COORDINATION workflowStyle
    class QA,CONTENT_QA,REVIEW_COORDINATION qaStyle
    class COMMUNICATION,PROTOCOLS,DATA_FLOWS communicationStyle
    class MONITORING monitoringStyle