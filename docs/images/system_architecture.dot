digraph System_Architecture {
    // Graph attributes
    graph [
        rankdir=TB,
        fontname="Arial Bold",
        fontsize=16,
        label="RFP Preparation System Architecture\nTechnical Components, Data Flow, and Integration Points",
        labelloc=t,
        splines=ortho,
        nodesep=0.6,
        ranksep=1.0,
        bgcolor="#F8F9FA",
        pad=0.5,
        compound=true
    ];
    
    // Node defaults
    node [
        fontname="Arial",
        fontsize=9,
        margin=0.1,
        style=filled
    ];
    
    // Edge defaults
    edge [
        fontname="Arial",
        fontsize=8,
        color="#4A5568"
    ];
    
    // Legend
    subgraph cluster_legend {
        label="Architecture Legend";
        style=filled;
        fillcolor="#E2E8F0";
        fontname="Arial Bold";
        fontsize=11;
        
        legend_user [label="User Interface", shape=box, fillcolor="#54C6EB", fontcolor=black, style="filled,rounded"];
        legend_api [label="API/Gateway", shape=box, fillcolor="#F26419", fontcolor=white, style="filled,rounded"];
        legend_service [label="Microservice", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
        legend_agent [label="AI Agent", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
        legend_db [label="Database", shape=cylinder, fillcolor="#A4161A", fontcolor=white];
        legend_external [label="External System", shape=hexagon, fillcolor="#BC6C25", fontcolor=white];
        legend_security [label="Security Layer", shape=diamond, fillcolor="#6A994E", fontcolor=white];
        
        {rank=same; legend_user; legend_api; legend_service; legend_agent; legend_db; legend_external; legend_security;}
    }
    
    // External Users Layer
    subgraph cluster_users {
        label="ðŸ‘¥ External Users";
        style=filled;
        fillcolor="#E6F3FF";
        fontname="Arial Bold";
        fontsize=12;
        
        user_rfp_mgr [label="ðŸ‘¨â€ðŸ’¼ RFP Manager\nâ€¢ Process Oversight\nâ€¢ Team Coordination\nâ€¢ Quality Management", shape=box, fillcolor="#2E4057", fontcolor=white, style="filled,rounded"];
        user_sme [label="ðŸ‘¨â€ðŸ”¬ Subject Matter Expert\nâ€¢ Technical Input\nâ€¢ Content Validation\nâ€¢ Customer Engagement", shape=box, fillcolor="#2E4057", fontcolor=white, style="filled,rounded"];
        user_writer [label="âœï¸ Content Writer\nâ€¢ Content Creation\nâ€¢ Editorial Services\nâ€¢ Template Management", shape=box, fillcolor="#2E4057", fontcolor=white, style="filled,rounded"];
        user_reviewer [label="ðŸ‘¨â€âš–ï¸ Reviewer\nâ€¢ Quality Assessment\nâ€¢ Independent Evaluation\nâ€¢ Feedback Provision", shape=box, fillcolor="#2E4057", fontcolor=white, style="filled,rounded"];
        user_exec [label="ðŸ‘” Executive Sponsor\nâ€¢ Strategic Oversight\nâ€¢ Decision Authority\nâ€¢ Resource Authorization", shape=box, fillcolor="#2E4057", fontcolor=white, style="filled,rounded"];
        
        {rank=same; user_rfp_mgr; user_sme; user_writer; user_reviewer; user_exec;}
    }
    
    // Frontend Layer
    subgraph cluster_frontend {
        label="ðŸ–¥ï¸ Frontend Layer (React/Next.js)";
        style=filled;
        fillcolor="#E6F7FF";
        fontname="Arial Bold";
        fontsize=12;
        
        // Web Applications
        subgraph cluster_web_apps {
            label="Web Applications";
            style=filled;
            fillcolor="#F0F8FF";
            fontsize=10;
            
            web_dashboard [label="ðŸ“Š Management Dashboard\nâ€¢ Project Overview\nâ€¢ Resource Allocation\nâ€¢ Timeline Tracking\nâ€¢ KPI Monitoring", shape=box, fillcolor="#54C6EB", fontcolor=black, style="filled,rounded"];
            web_content [label="âœï¸ Content Management\nâ€¢ Collaborative Editor\nâ€¢ Version Control\nâ€¢ Template System\nâ€¢ Review Interface", shape=box, fillcolor="#54C6EB", fontcolor=black, style="filled,rounded"];
            web_review [label="ðŸ‘¥ Review Portal\nâ€¢ Evaluation Tools\nâ€¢ Scoring System\nâ€¢ Feedback Management\nâ€¢ Approval Workflow", shape=box, fillcolor="#54C6EB", fontcolor=black, style="filled,rounded"];
            web_analytics [label="ðŸ“ˆ Analytics & Reporting\nâ€¢ Performance Metrics\nâ€¢ Win/Loss Analysis\nâ€¢ Process Intelligence\nâ€¢ Custom Reports", shape=box, fillcolor="#54C6EB", fontcolor=black, style="filled,rounded"];
        }
        
        // Mobile Applications
        subgraph cluster_mobile_apps {
            label="Mobile Applications";
            style=filled;
            fillcolor="#F0F8FF";
            fontsize=10;
            
            mobile_ios [label="ðŸ“± iOS App\nâ€¢ Task Management\nâ€¢ Push Notifications\nâ€¢ Document Access\nâ€¢ Offline Support", shape=box, fillcolor="#54C6EB", fontcolor=black, style="filled,rounded"];
            mobile_android [label="ðŸ“± Android App\nâ€¢ Task Management\nâ€¢ Push Notifications\nâ€¢ Document Access\nâ€¢ Offline Support", shape=box, fillcolor="#54C6EB", fontcolor=black, style="filled,rounded"];
        }
        
        web_gateway [label="ðŸŒ Web API Gateway\nâ€¢ Request Routing\nâ€¢ Authentication\nâ€¢ Rate Limiting\nâ€¢ Response Caching", shape=box, fillcolor="#54C6EB", fontcolor=black, style="filled,rounded"];
    }
    
    // API Gateway & Load Balancer Layer
    subgraph cluster_api_layer {
        label="ðŸ”— API Gateway & Load Balancer";
        style=filled;
        fillcolor="#FFF4E6";
        fontname="Arial Bold";
        fontsize=12;
        
        load_balancer [label="âš–ï¸ Load Balancer\nâ€¢ NGINX/HAProxy\nâ€¢ SSL Termination\nâ€¢ Health Checks\nâ€¢ Auto Scaling", shape=box, fillcolor="#F26419", fontcolor=white, style="filled,rounded"];
        api_gateway [label="ðŸšª API Gateway\nâ€¢ Kong/AWS API Gateway\nâ€¢ Authentication\nâ€¢ Rate Limiting\nâ€¢ Request Routing\nâ€¢ API Versioning", shape=box, fillcolor="#F26419", fontcolor=white, style="filled,rounded"];
        cache_layer [label="âš¡ Cache Layer\nâ€¢ Redis Cluster\nâ€¢ Session Management\nâ€¢ Response Caching\nâ€¢ Distributed Cache", shape=box, fillcolor="#F26419", fontcolor=white, style="filled,rounded"];
    }
    
    // Backend Microservices Layer
    subgraph cluster_backend {
        label="ðŸ—ï¸ Backend Microservices (Node.js/Python/Java)";
        style=filled;
        fillcolor="#FFF8DC";
        fontname="Arial Bold";
        fontsize=12;
        
        // Core Business Services
        subgraph cluster_core_services {
            label="Core Business Services";
            style=filled;
            fillcolor="#FFFACD";
            fontsize=10;
            
            project_service [label="ðŸ“‹ Project Management Service\nâ€¢ Project Lifecycle\nâ€¢ Resource Allocation\nâ€¢ Timeline Management\nâ€¢ Milestone Tracking", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
            user_service [label="ðŸ‘¤ User Management Service\nâ€¢ Authentication\nâ€¢ Authorization\nâ€¢ Profile Management\nâ€¢ Role-based Access", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
            content_service [label="ðŸ“ Content Management Service\nâ€¢ Document Storage\nâ€¢ Version Control\nâ€¢ Template Management\nâ€¢ Collaboration Tools", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
            workflow_service [label="ðŸ”„ Workflow Orchestration\nâ€¢ Process Automation\nâ€¢ Task Assignment\nâ€¢ State Management\nâ€¢ Business Rules", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
        }
        
        // Intelligence Services
        subgraph cluster_intelligence_services {
            label="Intelligence Services";
            style=filled;
            fillcolor="#FFFACD";
            fontsize=10;
            
            nlp_service [label="ðŸ§  NLP Processing Service\nâ€¢ Document Analysis\nâ€¢ Requirement Extraction\nâ€¢ Content Generation\nâ€¢ Sentiment Analysis", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
            research_service [label="ðŸ” Research & Analysis\nâ€¢ Market Intelligence\nâ€¢ Competitive Analysis\nâ€¢ Customer Insights\nâ€¢ Trend Analysis", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
            quality_service [label="âœ… Quality Assurance\nâ€¢ Content Validation\nâ€¢ Compliance Checking\nâ€¢ Risk Assessment\nâ€¢ Performance Metrics", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
        }
        
        // Integration Services
        subgraph cluster_integration_services {
            label="Integration Services";
            style=filled;
            fillcolor="#FFFACD";
            fontsize=10;
            
            notification_service [label="ðŸ“¢ Notification Service\nâ€¢ Email/SMS/Slack\nâ€¢ Real-time Alerts\nâ€¢ Event Publishing\nâ€¢ Template Management", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
            document_service [label="ðŸ“„ Document Processing\nâ€¢ PDF Generation\nâ€¢ Format Conversion\nâ€¢ Digital Signatures\nâ€¢ Template Rendering", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
            search_service [label="ðŸ”Ž Search & Discovery\nâ€¢ Elasticsearch\nâ€¢ Full-text Search\nâ€¢ Semantic Search\nâ€¢ Content Indexing", shape=box, fillcolor="#F6AE2D", fontcolor=black, style="filled,rounded"];
        }
    }
    
    // Multi-Agent System Layer
    subgraph cluster_agents {
        label="ðŸ¤– Multi-Agent System";
        style=filled;
        fillcolor="#E8F5E8";
        fontname="Arial Bold";
        fontsize=12;
        
        // Information Extraction Agents
        subgraph cluster_extraction_agents {
            label="Information Extraction Agents";
            style=filled;
            fillcolor="#F0FFF0";
            fontsize=10;
            
            rfp_analyzer [label="ðŸ“‹ RFP Document Analyzer\nâ€¢ Multi-format Processing\nâ€¢ OCR & NLP\nâ€¢ Structure Analysis\nâ€¢ Requirement Mapping", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
            data_miner [label="â›ï¸ Data Mining Agent\nâ€¢ Web Scraping\nâ€¢ API Integration\nâ€¢ Real-time Collection\nâ€¢ Intelligence Gathering", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
        }
        
        // Content Generation Agents
        subgraph cluster_generation_agents {
            label="Content Generation Agents";
            style=filled;
            fillcolor="#F0FFF0";
            fontsize=10;
            
            writer_agent [label="âœï¸ Proposal Writing Agent\nâ€¢ AI Content Generation\nâ€¢ Win Theme Integration\nâ€¢ Compliance Validation\nâ€¢ Multi-audience Adaptation", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
            graphics_agent [label="ðŸŽ¨ Graphics & Visualization\nâ€¢ Diagram Generation\nâ€¢ Chart Creation\nâ€¢ Brand Compliance\nâ€¢ Visual Storytelling", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
        }
        
        // Research & Analysis Agents
        subgraph cluster_analysis_agents {
            label="Research & Analysis Agents";
            style=filled;
            fillcolor="#F0FFF0";
            fontsize=10;
            
            competitive_agent [label="ðŸ† Competitive Intelligence\nâ€¢ Market Analysis\nâ€¢ Competitor Profiling\nâ€¢ Positioning Strategy\nâ€¢ SWOT Analysis", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
            customer_agent [label="ðŸ‘¥ Customer Intelligence\nâ€¢ Relationship Mapping\nâ€¢ Behavioral Analysis\nâ€¢ Preference Modeling\nâ€¢ Stakeholder Analysis", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
        }
        
        // Workflow Orchestration Agents
        subgraph cluster_orchestration_agents {
            label="Workflow Orchestration Agents";
            style=filled;
            fillcolor="#F0FFF0";
            fontsize=10;
            
            project_orchestrator [label="ðŸŽ¯ Project Orchestration\nâ€¢ Task Management\nâ€¢ Resource Scheduling\nâ€¢ Performance Analytics\nâ€¢ Risk Management", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
            resource_scheduler [label="ðŸ“… Resource Allocation\nâ€¢ Skill Matching\nâ€¢ Capacity Planning\nâ€¢ Optimization Engine\nâ€¢ Load Balancing", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
        }
        
        // Quality Assurance Agents
        subgraph cluster_qa_agents {
            label="Quality Assurance Agents";
            style=filled;
            fillcolor="#F0FFF0";
            fontsize=10;
            
            qa_agent [label="âœ… Automated QA Agent\nâ€¢ Content Quality Analysis\nâ€¢ Compliance Verification\nâ€¢ Risk Assessment\nâ€¢ Performance Monitoring", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
        }
        
        agent_registry [label="ðŸª Agent Registry\nâ€¢ Service Discovery\nâ€¢ Load Balancing\nâ€¢ Health Monitoring\nâ€¢ Capability Management", shape=ellipse, fillcolor="#2F9599", fontcolor=white];
    }
    
    // Message Queue & Event Streaming Layer
    subgraph cluster_messaging {
        label="ðŸ“¡ Message Queue & Event Streaming";
        style=filled;
        fillcolor="#E6E6FA";
        fontname="Arial Bold";
        fontsize=12;
        
        event_stream [label="ðŸŒŠ Event Streaming\nâ€¢ Apache Kafka\nâ€¢ Real-time Processing\nâ€¢ Event Sourcing\nâ€¢ Stream Analytics", shape=box, fillcolor="#7209B7", fontcolor=white, style="filled,rounded"];
        message_queue [label="ðŸ“¬ Message Queue\nâ€¢ RabbitMQ/AWS SQS\nâ€¢ Async Processing\nâ€¢ Retry Logic\nâ€¢ Dead Letter Queues", shape=box, fillcolor="#7209B7", fontcolor=white, style="filled,rounded"];
        event_bus [label="ðŸšŒ Event Bus\nâ€¢ Pub/Sub Patterns\nâ€¢ Event Routing\nâ€¢ Message Transformation\nâ€¢ Event Correlation", shape=box, fillcolor="#7209B7", fontcolor=white, style="filled,rounded"];
    }
    
    // Database Layer
    subgraph cluster_database {
        label="ðŸ—„ï¸ Database Layer";
        style=filled;
        fillcolor="#FFE4E1";
        fontname="Arial Bold";
        fontsize=12;
        
        // Relational Databases
        subgraph cluster_relational_db {
            label="Relational Databases";
            style=filled;
            fillcolor="#FFF0F0";
            fontsize=10;
            
            postgres_primary [label="ðŸ˜ PostgreSQL Primary\nâ€¢ Transactional Data\nâ€¢ User Management\nâ€¢ Project Data\nâ€¢ ACID Compliance", shape=cylinder, fillcolor="#A4161A", fontcolor=white];
            postgres_replica [label="ðŸ˜ PostgreSQL Replica\nâ€¢ Read Operations\nâ€¢ Analytics\nâ€¢ Reporting\nâ€¢ Load Distribution", shape=cylinder, fillcolor="#A4161A", fontcolor=white];
        }
        
        // Document Stores
        subgraph cluster_document_db {
            label="Document Stores";
            style=filled;
            fillcolor="#FFF0F0";
            fontsize=10;
            
            mongodb [label="ðŸƒ MongoDB\nâ€¢ Document Storage\nâ€¢ Content Repository\nâ€¢ Metadata Management\nâ€¢ Flexible Schema", shape=cylinder, fillcolor="#A4161A", fontcolor=white];
            elasticsearch [label="ðŸ” Elasticsearch\nâ€¢ Search Index\nâ€¢ Text Analytics\nâ€¢ Log Aggregation\nâ€¢ Real-time Search", shape=cylinder, fillcolor="#A4161A", fontcolor=white];
        }
        
        // Graph Database
        neo4j [label="ðŸ•¸ï¸ Neo4j\nâ€¢ Relationship Mapping\nâ€¢ Network Analysis\nâ€¢ Knowledge Graph\nâ€¢ Graph Algorithms", shape=cylinder, fillcolor="#A4161A", fontcolor=white];
        
        // Cache & Session Store
        redis_cluster [label="âš¡ Redis Cluster\nâ€¢ Session Storage\nâ€¢ Caching\nâ€¢ Pub/Sub\nâ€¢ Real-time Data", shape=cylinder, fillcolor="#A4161A", fontcolor=white];
        
        // Time Series Database
        influxdb [label="â±ï¸ InfluxDB\nâ€¢ Metrics Storage\nâ€¢ Performance Data\nâ€¢ Time-based Analytics\nâ€¢ IoT Data", shape=cylinder, fillcolor="#A4161A", fontcolor=white];
    }
    
    // Data Pipeline & ETL Layer
    subgraph cluster_data_pipeline {
        label="ðŸ”„ Data Pipeline & ETL";
        style=filled;
        fillcolor="#F0F8FF";
        fontname="Arial Bold";
        fontsize=12;
        
        etl_orchestrator [label="ðŸŽ¼ ETL Orchestrator\nâ€¢ Apache Airflow\nâ€¢ Workflow Scheduling\nâ€¢ Data Pipeline Management\nâ€¢ Dependency Resolution", shape=box, fillcolor="#4682B4", fontcolor=white, style="filled,rounded"];
        data_lake [label="ðŸžï¸ Data Lake\nâ€¢ AWS S3/Azure Blob\nâ€¢ Raw Data Storage\nâ€¢ Archive & Backup\nâ€¢ Data Versioning", shape=box, fillcolor="#4682B4", fontcolor=white, style="filled,rounded"];
        data_warehouse [label="ðŸ­ Data Warehouse\nâ€¢ Snowflake/Redshift\nâ€¢ Structured Analytics\nâ€¢ Business Intelligence\nâ€¢ OLAP Operations", shape=box, fillcolor="#4682B4", fontcolor=white, style="filled,rounded"];
        real_time_processing [label="âš¡ Real-time Processing\nâ€¢ Apache Spark/Flink\nâ€¢ Stream Analytics\nâ€¢ ML Pipeline\nâ€¢ Complex Event Processing", shape=box, fillcolor="#4682B4", fontcolor=white, style="filled,rounded"];
    }
    
    // External System Integrations
    subgraph cluster_external {
        label="ðŸ”— External System Integrations";
        style=filled;
        fillcolor="#F5F5DC";
        fontname="Arial Bold";
        fontsize=12;
        
        // CRM/ERP Systems
        subgraph cluster_crm_erp {
            label="CRM/ERP Systems";
            style=filled;
            fillcolor="#FFFEF0";
            fontsize=10;
            
            salesforce [label="â˜ï¸ Salesforce\nâ€¢ Customer Data\nâ€¢ Opportunity Management\nâ€¢ Relationship Tracking\nâ€¢ Sales Pipeline", shape=hexagon, fillcolor="#BC6C25", fontcolor=white];
            sap_erp [label="ðŸ¢ SAP/Oracle ERP\nâ€¢ Financial Data\nâ€¢ Resource Management\nâ€¢ Project Accounting\nâ€¢ HR Integration", shape=hexagon, fillcolor="#BC6C25", fontcolor=white];
        }
        
        // Document Management
        subgraph cluster_document_mgmt {
            label="Document Management";
            style=filled;
            fillcolor="#FFFEF0";
            fontsize=10;
            
            sharepoint [label="ðŸ“ SharePoint\nâ€¢ Document Repository\nâ€¢ Collaboration\nâ€¢ Version Control\nâ€¢ Workflow Integration", shape=hexagon, fillcolor="#BC6C25", fontcolor=white];
            cloud_storage [label="ðŸ“¦ Cloud Storage\nâ€¢ Box/Google Drive\nâ€¢ File Storage\nâ€¢ Sharing & Sync\nâ€¢ Backup & Recovery", shape=hexagon, fillcolor="#BC6C25", fontcolor=white];
        }
        
        // External APIs
        subgraph cluster_external_apis {
            label="External Data APIs";
            style=filled;
            fillcolor="#FFFEF0";
            fontsize=10;
            
            gov_data [label="ðŸ›ï¸ Government APIs\nâ€¢ SAM.gov\nâ€¢ FBO.gov\nâ€¢ Procurement Data\nâ€¢ Compliance Data", shape=hexagon, fillcolor="#BC6C25", fontcolor=white];
            market_data [label="ðŸ“Š Market Data APIs\nâ€¢ Bloomberg\nâ€¢ Reuters\nâ€¢ Industry Research\nâ€¢ Economic Indicators", shape=hexagon, fillcolor="#BC6C25", fontcolor=white];
        }
        
        // Communication Systems
        subgraph cluster_communication {
            label="Communication Systems";
            style=filled;
            fillcolor="#FFFEF0";
            fontsize=10;
            
            email_system [label="ðŸ“§ Email System\nâ€¢ Exchange/Gmail\nâ€¢ SMTP Integration\nâ€¢ Calendar Sync\nâ€¢ Contact Management", shape=hexagon, fillcolor="#BC6C25", fontcolor=white];
            collaboration_tools [label="ðŸ’¬ Collaboration Tools\nâ€¢ Slack/Teams\nâ€¢ Chat Integration\nâ€¢ Notifications\nâ€¢ Video Conferencing", shape=hexagon, fillcolor="#BC6C25", fontcolor=white];
        }
    }
    
    // Security Layer
    subgraph cluster_security {
        label="ðŸ” Security Layer";
        style=filled;
        fillcolor="#E8F5E8";
        fontname="Arial Bold";
        fontsize=12;
        
        // Identity & Access Management
        subgraph cluster_identity_mgmt {
            label="Identity & Access Management";
            style=filled;
            fillcolor="#F0FFF0";
            fontsize=10;
            
            identity_provider [label="ðŸ†” Identity Provider\nâ€¢ Azure AD/Okta\nâ€¢ SSO/SAML\nâ€¢ Multi-Factor Auth\nâ€¢ Directory Services", shape=diamond, fillcolor="#6A994E", fontcolor=white];
            oauth_server [label="ðŸ”‘ OAuth 2.0 Server\nâ€¢ Token Management\nâ€¢ API Authorization\nâ€¢ Refresh Tokens\nâ€¢ Scope Management", shape=diamond, fillcolor="#6A994E", fontcolor=white];
        }
        
        // Security Services
        subgraph cluster_security_services {
            label="Security Services";
            style=filled;
            fillcolor="#F0FFF0";
            fontsize=10;
            
            waf [label="ðŸ›¡ï¸ Web Application Firewall\nâ€¢ CloudFlare/AWS WAF\nâ€¢ DDoS Protection\nâ€¢ Rate Limiting\nâ€¢ Attack Prevention", shape=diamond, fillcolor="#6A994E", fontcolor=white];
            encryption [label="ðŸ”’ Encryption Service\nâ€¢ Data at Rest\nâ€¢ Data in Transit\nâ€¢ Key Management\nâ€¢ Certificate Management", shape=diamond, fillcolor="#6A994E", fontcolor=white];
            audit_logging [label="ðŸ“ Audit & Logging\nâ€¢ Activity Tracking\nâ€¢ Compliance Monitoring\nâ€¢ SIEM Integration\nâ€¢ Forensic Analysis", shape=diamond, fillcolor="#6A994E", fontcolor=white];
        }
        
        // Compliance & Governance
        subgraph cluster_compliance {
            label="Compliance & Governance";
            style=filled;
            fillcolor="#F0FFF0";
            fontsize=10;
            
            dlp [label="ðŸš« Data Loss Prevention\nâ€¢ Content Inspection\nâ€¢ Policy Enforcement\nâ€¢ Incident Response\nâ€¢ Data Classification", shape=diamond, fillcolor="#6A994E", fontcolor=white];
            backup_dr [label="ðŸ’¾ Backup & DR\nâ€¢ Automated Backups\nâ€¢ Disaster Recovery\nâ€¢ Business Continuity\nâ€¢ RTO/RPO Management", shape=diamond, fillcolor="#6A994E", fontcolor=white];
        }
    }
    
    // Cloud Infrastructure Layer
    subgraph cluster_infrastructure {
        label="â˜ï¸ Cloud Infrastructure";
        style=filled;
        fillcolor="#F0F8FF";
        fontname="Arial Bold";
        fontsize=12;
        
        // Container Orchestration
        subgraph cluster_container {
            label="Container Orchestration";
            style=filled;
            fillcolor="#F5F8FF";
            fontsize=10;
            
            kubernetes [label="âš“ Kubernetes\nâ€¢ Container Management\nâ€¢ Service Discovery\nâ€¢ Auto-scaling\nâ€¢ Rolling Deployments", shape=box, fillcolor="#1E90FF", fontcolor=white, style="filled,rounded"];
            docker_registry [label="ðŸ³ Docker Registry\nâ€¢ Container Images\nâ€¢ Version Management\nâ€¢ Security Scanning\nâ€¢ Vulnerability Assessment", shape=box, fillcolor="#1E90FF", fontcolor=white, style="filled,rounded"];
        }
        
        // Cloud Services
        aws_services [label="â˜ï¸ AWS Services\nâ€¢ EC2/ECS/Lambda\nâ€¢ RDS/S3/CloudFront\nâ€¢ IAM/CloudWatch\nâ€¢ API Gateway", shape=box, fillcolor="#1E90FF", fontcolor=white, style="filled,rounded"];
        cdn [label="ðŸŒ Content Delivery Network\nâ€¢ CloudFront/CloudFlare\nâ€¢ Global Distribution\nâ€¢ Edge Caching\nâ€¢ Performance Optimization", shape=box, fillcolor="#1E90FF", fontcolor=white, style="filled,rounded"];
        
        // Monitoring & Observability
        subgraph cluster_monitoring {
            label="Monitoring & Observability";
            style=filled;
            fillcolor="#F5F8FF";
            fontsize=10;
            
            monitoring_stack [label="ðŸ“Š Monitoring Stack\nâ€¢ Prometheus/Grafana\nâ€¢ Application Metrics\nâ€¢ Infrastructure Monitoring\nâ€¢ Alerting Rules", shape=box, fillcolor="#1E90FF", fontcolor=white, style="filled,rounded"];
            log_aggregation [label="ðŸ“‹ Log Aggregation\nâ€¢ ELK Stack\nâ€¢ Centralized Logging\nâ€¢ Search & Analytics\nâ€¢ Log Correlation", shape=box, fillcolor="#1E90FF", fontcolor=white, style="filled,rounded"];
            apm [label="ðŸ” Application Performance\nâ€¢ New Relic/Datadog\nâ€¢ Distributed Tracing\nâ€¢ Performance Analytics\nâ€¢ Error Tracking", shape=box, fillcolor="#1E90FF", fontcolor=white, style="filled,rounded"];
        }
    }
    
    // Main Connections - Data Flow
    // User to Frontend
    {user_rfp_mgr, user_sme, user_writer, user_reviewer, user_exec} -> {web_dashboard, web_content, web_review, web_analytics} [label="HTTPS", color="#2E4057"];
    {user_rfp_mgr, user_sme, user_writer} -> {mobile_ios, mobile_android} [label="Mobile API", color="#2E4057"];
    
    // Frontend to Gateway
    {web_dashboard, web_content, web_review, web_analytics} -> web_gateway [color="#54C6EB"];
    {mobile_ios, mobile_android} -> web_gateway [color="#54C6EB"];
    web_gateway -> api_gateway [color="#54C6EB"];
    
    // API Layer Flow
    load_balancer -> api_gateway [label="Load Balanced", color="#F26419"];
    api_gateway -> cache_layer [label="Cached Requests", color="#F26419"];
    cache_layer -> {project_service, user_service, content_service, workflow_service} [color="#F26419"];
    
    // Backend Service Interactions
    project_service -> workflow_service [label="Orchestration", color="#F6AE2D"];
    user_service -> {project_service, content_service, workflow_service} [label="Auth", color="#F6AE2D"];
    content_service -> {nlp_service, document_service} [label="Processing", color="#F6AE2D"];
    workflow_service -> notification_service [label="Events", color="#F6AE2D"];
    
    // Intelligence Service Flow
    nlp_service -> {rfp_analyzer, writer_agent} [label="AI Processing", color="#F6AE2D"];
    research_service -> {competitive_agent, customer_agent, data_miner} [label="Intelligence", color="#F6AE2D"];
    quality_service -> qa_agent [label="QA Automation", color="#F6AE2D"];
    
    // Agent System Flow
    agent_registry -> {rfp_analyzer, data_miner, writer_agent, graphics_agent, competitive_agent, customer_agent, project_orchestrator, resource_scheduler, qa_agent} [label="Discovery", color="#2F9599"];
    
    // Messaging Layer
    {project_service, workflow_service, nlp_service, research_service} -> event_stream [label="Events", color="#7209B7"];
    event_stream -> event_bus [color="#7209B7"];
    message_queue -> event_bus [color="#7209B7"];
    event_bus -> {notification_service, real_time_processing} [label="Pub/Sub", color="#7209B7"];
    
    // Database Connections
    {project_service, user_service, workflow_service} -> postgres_primary [label="CRUD", color="#A4161A"];
    postgres_primary -> postgres_replica [label="Replication", color="#A4161A"];
    content_service -> mongodb [label="Documents", color="#A4161A"];
    search_service -> elasticsearch [label="Indexing", color="#A4161A"];
    {competitive_agent, customer_agent} -> neo4j [label="Relationships", color="#A4161A"];
    cache_layer -> redis_cluster [label="Cache", color="#A4161A"];
    {monitoring_stack, apm} -> influxdb [label="Metrics", color="#A4161A"];
    
    // Data Pipeline Flow
    etl_orchestrator -> data_lake [label="Raw Data", color="#4682B4"];
    data_lake -> data_warehouse [label="Processed", color="#4682B4"];
    event_stream -> real_time_processing [label="Streaming", color="#4682B4"];
    real_time_processing -> data_warehouse [label="Analytics", color="#4682B4"];
    
    // External Integrations
    {research_service, data_miner} -> {gov_data, market_data} [label="API Calls", color="#BC6C25"];
    content_service -> {sharepoint, cloud_storage} [label="Document Sync", color="#BC6C25"];
    {project_service, user_service} -> {salesforce, sap_erp} [label="Data Integration", color="#BC6C25"];
    notification_service -> {email_system, collaboration_tools} [label="Notifications", color="#BC6C25"];
    
    // Security Layer Enforcement
    identity_provider -> oauth_server [label="Authentication", color="#6A994E"];
    oauth_server -> api_gateway [label="Authorization", color="#6A994E"];
    waf -> load_balancer [label="Protection", color="#6A994E"];
    encryption -> {postgres_primary, mongodb, redis_cluster} [label="Encryption", color="#6A994E"];
    audit_logging -> {api_gateway, user_service} [label="Audit Trail", color="#6A994E"];
    dlp -> content_service [label="Data Protection", color="#6A994E"];
    backup_dr -> cluster_database [lhead=cluster_database, label="Backup", color="#6A994E"];
    
    // Infrastructure Connections
    kubernetes -> {cluster_backend, cluster_agents} [lhead=cluster_backend, color="#1E90FF"];
    docker_registry -> kubernetes [label="Container Images", color="#1E90FF"];
    aws_services -> {kubernetes, cluster_database} [lhead=cluster_database, color="#1E90FF"];
    cdn -> web_gateway [label="Content Delivery", color="#1E90FF"];
    
    // Monitoring Connections
    monitoring_stack -> {cluster_backend, cluster_agents} [lhead=cluster_backend, label="Metrics", color="#1E90FF"];
    log_aggregation -> {cluster_backend, cluster_agents, api_gateway} [lhead=cluster_backend, label="Logs", color="#1E90FF"];
    apm -> {cluster_backend, web_gateway} [lhead=cluster_backend, label="Tracing", color="#1E90FF"];
    
    // Data Quality and Governance
    subgraph cluster_governance {
        label="Data Quality & Governance";
        style=filled;
        fillcolor="#FFFACD";
        fontname="Arial Bold";
        fontsize=10;
        
        data_catalog [label="ðŸ“š Data Catalog\nâ€¢ Schema Registry\nâ€¢ Data Lineage\nâ€¢ Quality Metrics\nâ€¢ Data Dictionary", shape=box, fillcolor="#DAA520", fontcolor=black, style="filled,rounded"];
        data_quality [label="âœ… Data Quality\nâ€¢ Validation Rules\nâ€¢ Anomaly Detection\nâ€¢ Quality Scoring\nâ€¢ Data Profiling", shape=box, fillcolor="#DAA520", fontcolor=black, style="filled,rounded"];
    }
    
    data_catalog -> {postgres_primary, mongodb, elasticsearch} [color="#DAA520"];
    data_quality -> etl_orchestrator [color="#DAA520"];
}